FROM nvcr.io/nvidia/l4t-tensorrt:r8.4.1-runtime

ENV CUDA_HOME="/usr/local/cuda"
ENV PATH="/usr/local/cuda/bin:${PATH}"
ENV LD_LIBRARY_PATH="/usr/local/cuda/lib64:${LD_LIBRARY_PATH}"
ENV LLVM_CONFIG="/usr/bin/llvm-config-9"
COPY requirements.txt /requirements.txt
RUN apt-get install -y libhdf5-dev
RUN pip3 install --upgrade pip
RUN pip3 install pycuda --verbose